<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Framework Comparison Benchmarks</title>
		<style>
			:root {
				color-scheme: light;
				--bg: #f7f7f5;
				--panel: #ffffff;
				--border: #d7d7d2;
				--text: #1f1f1c;
				--muted: #5a5a54;
				--accent: #2f5bff;
				--good: #d4edda;
				--warn: #fff3cd;
				--bad: #f8d7da;
			}
			body {
				font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
				margin: 0;
				padding: 24px;
				background: var(--bg);
				color: var(--text);
			}
			h1 {
				margin: 0 0 8px;
				font-size: 28px;
			}
			p {
				margin: 0 0 16px;
				color: var(--muted);
			}
			.build-note {
				background: #f0f0ee;
				padding: 10px 14px;
				border-radius: 6px;
				font-size: 13px;
				border-left: 3px solid var(--accent);
			}
			.build-note code {
				background: #e0e0dd;
				padding: 2px 5px;
				border-radius: 3px;
				font-size: 12px;
			}
			.controls {
				display: flex;
				gap: 12px;
				margin-bottom: 20px;
			}
			button {
				border: none;
				border-radius: 6px;
				padding: 10px 16px;
				font-size: 14px;
				cursor: pointer;
				background: var(--accent);
				color: #fff;
			}
			button.secondary {
				background: #3a3a33;
			}
			.panel {
				background: var(--panel);
				border: 1px solid var(--border);
				border-radius: 10px;
				padding: 16px;
				margin-bottom: 16px;
			}
			table {
				width: 100%;
				border-collapse: collapse;
				font-size: 14px;
			}
			th,
			td {
				text-align: left;
				padding: 8px 10px;
				border-bottom: 1px solid var(--border);
			}
			th {
				font-weight: 600;
			}
			.result-cell {
				font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
			}
			.badge {
				display: inline-block;
				padding: 2px 6px;
				border-radius: 6px;
				font-size: 12px;
				background: #ececec;
				color: #111;
				margin-left: 6px;
			}
			.pass {
				background: var(--good);
			}
			.warn {
				background: var(--warn);
			}
			.fail {
				background: var(--bad);
			}
			/* Ranking styles */
			.rank-1 {
				position: relative;
				font-weight: 600;
			}
			.rank-1::before {
				content: 'ðŸ¥‡';
				margin-right: 4px;
			}
			.rank-2::before {
				content: 'ðŸ¥ˆ';
				margin-right: 4px;
			}
			.rank-3::before {
				content: 'ðŸ¥‰';
				margin-right: 4px;
			}
			/* Highlight the fastest row */
			tbody tr:first-child {
				background: linear-gradient(90deg, rgba(212, 237, 218, 0.3) 0%, transparent 100%);
			}
			tbody tr:first-child td:first-child {
				font-weight: 600;
			}
			#containers {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
				gap: 12px;
				margin-top: 16px;
			}
			.container-card {
				background: var(--panel);
				border: 1px dashed var(--border);
				border-radius: 8px;
				padding: 10px;
				min-height: 120px;
			}
			.container-card h3 {
				margin: 0 0 8px;
				font-size: 14px;
				color: var(--muted);
			}
		</style>
	</head>
	<body>
		<h1>Framework Comparison Benchmarks</h1>
		<p>
			Runs a shared list-rendering workload across Melodic, React, Preact, Vue, and Lit.
			Results depend on browser, machine, and build mode. Run multiple times and compare medians.
		</p>
		<p class="build-note">
			<strong>Note:</strong> Melodic uses local source (dev) or lib (prod) based on Vite mode.
			Other frameworks load production builds from CDNs. For accurate comparison, run with <code>npm run build && npm run preview</code>.
		</p>
		<div class="controls">
			<button id="run-all">Run All Benchmarks</button>
			<button id="clear" class="secondary">Clear Results</button>
		</div>
		<div class="panel">
			<table id="results-table">
				<thead>
					<tr>
						<th>Framework</th>
						<th>Initial Render (1000)</th>
						<th>Warm Render (1000)</th>
						<th>Full Update (1000)</th>
						<th>Partial Update (10)</th>
						<th>Reorder (1000)</th>
						<th>Add/Remove (200)</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
		</div>
		<div id="containers"></div>

		<script type="module" src="./framework-comparison.js"></script>
	</body>
</html>
